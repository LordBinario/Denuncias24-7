DELIMITER $$ 
CREATE PROCEDURE INICIO_SESION
(
    ANONIMO TEXT,
    CONTRASEÑA TEXT
)
BEGIN

	SELECT U.ID_USUARIO , U.ANONIMO FROM usuario U INNER JOIN contraseñas C ON C.ID_USUARIO = U.ID_USUARIO WHERE (U.ANONIMO = ANONIMO OR U.CORREO = ANONIMO) AND (AES_DECRYPT(C.CONTRASEÑA, 'D3nvnC!@$*24/7*')) = CONTRASEÑA AND C.ID_TIPO = 1;

END $$;